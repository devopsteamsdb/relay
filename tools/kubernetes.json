{
    "name": "Kubernetes_kubectl",
    "description": "CLI for Kubernetes cluster management",
    "download_steps": [
        {
            "type": "shell",
            "command": "K8S_VER=$(curl -L -s https://dl.k8s.io/release/stable.txt | cut -d. -f1,2) && cat <<EOF | tee /etc/yum.repos.d/kubernetes.repo\n[kubernetes]\nname=Kubernetes\nbaseurl=https://pkgs.k8s.io/core:/stable:/$K8S_VER/rpm/\nenabled=1\ngpgcheck=1\ngpgkey=https://pkgs.k8s.io/core:/stable:/$K8S_VER/rpm/repodata/repomd.xml.key\nEOF"
        },
        {
            "type": "shell",
            "command": "dnf install -y --downloadonly --downloaddir=\"{download_dir}\" kubectl"
        }
    ],
    "install_steps": [
        {
            "type": "shell",
            "command": "dnf install -y \"{download_dir}\"/*.rpm"
        }
    ],
    "idempotency_check": "kubectl version --client"
}